{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _keycode = require('keycode');\n\nvar _keycode2 = _interopRequireDefault(_keycode);\n\nvar _TextField = require('../TextField');\n\nvar _TextField2 = _interopRequireDefault(_TextField);\n\nvar _Menu = require('../Menu');\n\nvar _Menu2 = _interopRequireDefault(_Menu);\n\nvar _MenuItem = require('../MenuItem');\n\nvar _MenuItem2 = _interopRequireDefault(_MenuItem);\n\nvar _Divider = require('../Divider');\n\nvar _Divider2 = _interopRequireDefault(_Divider);\n\nvar _Popover = require('../Popover/Popover');\n\nvar _Popover2 = _interopRequireDefault(_Popover);\n\nvar _propTypes3 = require('../utils/propTypes');\n\nvar _propTypes4 = _interopRequireDefault(_propTypes3);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getStyles(props, context, state) {\n  var anchorEl = state.anchorEl;\n  var fullWidth = props.fullWidth;\n  var styles = {\n    root: {\n      display: 'inline-block',\n      position: 'relative',\n      width: fullWidth ? '100%' : 256\n    },\n    menu: {\n      width: '100%'\n    },\n    list: {\n      display: 'block',\n      width: fullWidth ? '100%' : 256\n    },\n    innerDiv: {\n      overflow: 'hidden'\n    }\n  };\n\n  if (anchorEl && fullWidth) {\n    styles.popover = {\n      width: anchorEl.clientWidth\n    };\n  }\n\n  return styles;\n}\n\nvar AutoComplete = function (_Component) {\n  (0, _inherits3.default)(AutoComplete, _Component);\n\n  function AutoComplete() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AutoComplete);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AutoComplete.__proto__ || (0, _getPrototypeOf2.default)(AutoComplete)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      anchorEl: null,\n      focusTextField: true,\n      open: false,\n      searchText: undefined\n    }, _this.handleRequestClose = function () {\n      // Only take into account the Popover clickAway when we are\n      // not focusing the TextField.\n      if (!_this.state.focusTextField) {\n        _this.close();\n      }\n    }, _this.handleMouseDown = function (event) {\n      // Keep the TextField focused\n      event.preventDefault();\n    }, _this.handleItemClick = function (event, child) {\n      var dataSource = _this.props.dataSource;\n      var index = parseInt(child.key, 10);\n      var chosenRequest = dataSource[index];\n\n      var searchText = _this.chosenRequestText(chosenRequest);\n\n      var updateInput = function updateInput() {\n        return _this.props.onUpdateInput(searchText, _this.props.dataSource, {\n          source: 'click'\n        });\n      };\n\n      _this.timerClickCloseId = function () {\n        return setTimeout(function () {\n          _this.timerClickCloseId = null;\n\n          _this.close();\n\n          _this.props.onNewRequest(chosenRequest, index);\n        }, _this.props.menuCloseDelay);\n      };\n\n      if (typeof _this.props.searchText !== 'undefined') {\n        updateInput();\n\n        _this.timerClickCloseId();\n      } else {\n        _this.setState({\n          searchText: searchText\n        }, function () {\n          updateInput();\n\n          _this.timerClickCloseId();\n        });\n      }\n    }, _this.chosenRequestText = function (chosenRequest) {\n      if (typeof chosenRequest === 'string') {\n        return chosenRequest;\n      } else {\n        return chosenRequest[_this.props.dataSourceConfig.text];\n      }\n    }, _this.handleEscKeyDown = function () {\n      _this.close();\n    }, _this.handleKeyDown = function (event) {\n      if (_this.props.onKeyDown) _this.props.onKeyDown(event);\n\n      switch ((0, _keycode2.default)(event)) {\n        case 'enter':\n          _this.close();\n\n          var searchText = _this.state.searchText;\n\n          if (searchText !== '') {\n            _this.props.onNewRequest(searchText, -1);\n          }\n\n          break;\n\n        case 'esc':\n          _this.close();\n\n          break;\n\n        case 'down':\n          event.preventDefault();\n\n          _this.setState({\n            open: true,\n            focusTextField: false,\n            anchorEl: _reactDom2.default.findDOMNode(_this.refs.searchTextField)\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    }, _this.handleChange = function (event) {\n      var searchText = event.target.value; // Make sure that we have a new searchText.\n      // Fix an issue with a Cordova Webview\n\n      if (searchText === _this.state.searchText) {\n        return;\n      }\n\n      var state = {\n        open: true,\n        anchorEl: _reactDom2.default.findDOMNode(_this.refs.searchTextField)\n      };\n\n      if (_this.props.searchText === undefined) {\n        state.searchText = searchText;\n      }\n\n      _this.setState(state);\n\n      _this.props.onUpdateInput(searchText, _this.props.dataSource, {\n        source: 'change'\n      });\n    }, _this.handleBlur = function (event) {\n      if (_this.state.focusTextField && _this.timerClickCloseId === null) {\n        _this.timerBlurClose = setTimeout(function () {\n          _this.close();\n        }, 0);\n      }\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(event);\n      }\n    }, _this.handleFocus = function (event) {\n      if (!_this.state.open && _this.props.openOnFocus) {\n        _this.setState({\n          open: true,\n          anchorEl: _reactDom2.default.findDOMNode(_this.refs.searchTextField)\n        });\n      }\n\n      _this.setState({\n        focusTextField: true\n      });\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(event);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(AutoComplete, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.requestsList = [];\n      this.setState({\n        open: this.props.open,\n        searchText: this.props.searchText || ''\n      });\n      this.timerClickCloseId = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.searchText !== nextProps.searchText) {\n        this.setState({\n          searchText: nextProps.searchText\n        });\n      }\n\n      if (this.props.open !== nextProps.open) {\n        this.setState({\n          open: nextProps.open,\n          anchorEl: _reactDom2.default.findDOMNode(this.refs.searchTextField)\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timerClickCloseId);\n      clearTimeout(this.timerBlurClose);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.setState({\n        open: false,\n        anchorEl: null\n      });\n\n      if (this.props.onClose) {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.refs.searchTextField.blur();\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      this.refs.searchTextField.focus();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          anchorOrigin = _props.anchorOrigin,\n          animated = _props.animated,\n          animation = _props.animation,\n          dataSource = _props.dataSource,\n          dataSourceConfig = _props.dataSourceConfig,\n          disableFocusRipple = _props.disableFocusRipple,\n          errorStyle = _props.errorStyle,\n          floatingLabelText = _props.floatingLabelText,\n          filter = _props.filter,\n          fullWidth = _props.fullWidth,\n          style = _props.style,\n          hintText = _props.hintText,\n          maxSearchResults = _props.maxSearchResults,\n          menuCloseDelay = _props.menuCloseDelay,\n          textFieldStyle = _props.textFieldStyle,\n          menuStyle = _props.menuStyle,\n          menuProps = _props.menuProps,\n          listStyle = _props.listStyle,\n          targetOrigin = _props.targetOrigin,\n          onBlur = _props.onBlur,\n          onClose = _props.onClose,\n          onFocus = _props.onFocus,\n          onKeyDown = _props.onKeyDown,\n          onNewRequest = _props.onNewRequest,\n          onUpdateInput = _props.onUpdateInput,\n          openOnFocus = _props.openOnFocus,\n          popoverProps = _props.popoverProps,\n          searchTextProp = _props.searchText,\n          other = (0, _objectWithoutProperties3.default)(_props, ['anchorOrigin', 'animated', 'animation', 'dataSource', 'dataSourceConfig', 'disableFocusRipple', 'errorStyle', 'floatingLabelText', 'filter', 'fullWidth', 'style', 'hintText', 'maxSearchResults', 'menuCloseDelay', 'textFieldStyle', 'menuStyle', 'menuProps', 'listStyle', 'targetOrigin', 'onBlur', 'onClose', 'onFocus', 'onKeyDown', 'onNewRequest', 'onUpdateInput', 'openOnFocus', 'popoverProps', 'searchText']);\n\n      var _ref2 = popoverProps || {},\n          popoverStyle = _ref2.style,\n          popoverOther = (0, _objectWithoutProperties3.default)(_ref2, ['style']);\n\n      var _state = this.state,\n          open = _state.open,\n          anchorEl = _state.anchorEl,\n          searchText = _state.searchText,\n          focusTextField = _state.focusTextField;\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n      var styles = getStyles(this.props, this.context, this.state);\n      var requestsList = [];\n      dataSource.every(function (item, index) {\n        switch (typeof item === 'undefined' ? 'undefined' : (0, _typeof3.default)(item)) {\n          case 'string':\n            if (filter(searchText, item, item)) {\n              requestsList.push({\n                text: item,\n                value: _react2.default.createElement(_MenuItem2.default, {\n                  innerDivStyle: styles.innerDiv,\n                  value: item,\n                  primaryText: item,\n                  disableFocusRipple: disableFocusRipple,\n                  key: index\n                })\n              });\n            }\n\n            break;\n\n          case 'object':\n            if (item && typeof item[_this2.props.dataSourceConfig.text] === 'string') {\n              var itemText = item[_this2.props.dataSourceConfig.text];\n              if (!_this2.props.filter(searchText, itemText, item)) break;\n              var itemValue = item[_this2.props.dataSourceConfig.value];\n\n              if (itemValue && itemValue.type && (itemValue.type.muiName === _MenuItem2.default.muiName || itemValue.type.muiName === _Divider2.default.muiName)) {\n                requestsList.push({\n                  text: itemText,\n                  value: _react2.default.cloneElement(itemValue, {\n                    key: index,\n                    disableFocusRipple: disableFocusRipple\n                  })\n                });\n              } else {\n                requestsList.push({\n                  text: itemText,\n                  value: _react2.default.createElement(_MenuItem2.default, {\n                    innerDivStyle: styles.innerDiv,\n                    primaryText: itemText,\n                    disableFocusRipple: disableFocusRipple,\n                    key: index\n                  })\n                });\n              }\n            }\n\n            break;\n\n          default: // Do nothing\n\n        }\n\n        return !(maxSearchResults && maxSearchResults > 0 && requestsList.length === maxSearchResults);\n      });\n      this.requestsList = requestsList;\n\n      var menu = open && requestsList.length > 0 && _react2.default.createElement(_Menu2.default, (0, _extends3.default)({\n        ref: 'menu',\n        autoWidth: false,\n        disableAutoFocus: focusTextField,\n        onEscKeyDown: this.handleEscKeyDown,\n        initiallyKeyboardFocused: true,\n        onItemClick: this.handleItemClick,\n        onMouseDown: this.handleMouseDown,\n        style: (0, _simpleAssign2.default)(styles.menu, menuStyle),\n        listStyle: (0, _simpleAssign2.default)(styles.list, listStyle)\n      }, menuProps), requestsList.map(function (i) {\n        return i.value;\n      }));\n\n      return _react2.default.createElement('div', {\n        style: prepareStyles((0, _simpleAssign2.default)(styles.root, style))\n      }, _react2.default.createElement(_TextField2.default, (0, _extends3.default)({\n        ref: 'searchTextField',\n        autoComplete: 'off',\n        onBlur: this.handleBlur,\n        onFocus: this.handleFocus,\n        onKeyDown: this.handleKeyDown,\n        floatingLabelText: floatingLabelText,\n        hintText: hintText,\n        fullWidth: fullWidth,\n        multiLine: false,\n        errorStyle: errorStyle,\n        style: textFieldStyle\n      }, other, {\n        // value and onChange are idiomatic properties often leaked.\n        // We prevent their overrides in order to reduce potential bugs.\n        value: searchText,\n        onChange: this.handleChange\n      })), _react2.default.createElement(_Popover2.default, (0, _extends3.default)({\n        style: (0, _simpleAssign2.default)({}, styles.popover, popoverStyle),\n        canAutoPosition: false,\n        anchorOrigin: anchorOrigin,\n        targetOrigin: targetOrigin,\n        open: open,\n        anchorEl: anchorEl,\n        useLayerForClickAway: false,\n        onRequestClose: this.handleRequestClose,\n        animated: animated,\n        animation: animation\n      }, popoverOther), menu));\n    }\n  }]);\n  return AutoComplete;\n}(_react.Component);\n\nAutoComplete.defaultProps = {\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'left'\n  },\n  animated: true,\n  dataSourceConfig: {\n    text: 'text',\n    value: 'value'\n  },\n  disableFocusRipple: true,\n  filter: function filter(searchText, key) {\n    return searchText !== '' && key.indexOf(searchText) !== -1;\n  },\n  fullWidth: false,\n  open: false,\n  openOnFocus: false,\n  onUpdateInput: function onUpdateInput() {},\n  onNewRequest: function onNewRequest() {},\n  menuCloseDelay: 300,\n  targetOrigin: {\n    vertical: 'top',\n    horizontal: 'left'\n  }\n};\nAutoComplete.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nAutoComplete.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Location of the anchor for the auto complete.\n   */\n  anchorOrigin: _propTypes4.default.origin,\n\n  /**\n   * If true, the auto complete is animated as it is toggled.\n   */\n  animated: _propTypes2.default.bool,\n\n  /**\n   * Override the default animation component used.\n   */\n  animation: _propTypes2.default.func,\n\n  /**\n   * Array of strings or nodes used to populate the list.\n   */\n  dataSource: _propTypes2.default.array.isRequired,\n\n  /**\n   * Config for objects list dataSource.\n   *\n   * @typedef {Object} dataSourceConfig\n   *\n   * @property {string} text `dataSource` element key used to find a string to be matched for search\n   * and shown as a `TextField` input value after choosing the result.\n   * @property {string} value `dataSource` element key used to find a string to be shown in search results.\n   */\n  dataSourceConfig: _propTypes2.default.object,\n\n  /**\n   * Disables focus ripple when true.\n   */\n  disableFocusRipple: _propTypes2.default.bool,\n\n  /**\n   * Override style prop for error.\n   */\n  errorStyle: _propTypes2.default.object,\n\n  /**\n   * The error content to display.\n   */\n  errorText: _propTypes2.default.node,\n\n  /**\n   * Callback function used to filter the auto complete.\n   *\n   * @param {string} searchText The text to search for within `dataSource`.\n   * @param {string} key `dataSource` element, or `text` property on that element if it's not a string.\n   * @returns {boolean} `true` indicates the auto complete list will include `key` when the input is `searchText`.\n   */\n  filter: _propTypes2.default.func,\n\n  /**\n   * The content to use for adding floating label element.\n   */\n  floatingLabelText: _propTypes2.default.node,\n\n  /**\n   * If true, the field receives the property `width: 100%`.\n   */\n  fullWidth: _propTypes2.default.bool,\n\n  /**\n   * The hint content to display.\n   */\n  hintText: _propTypes2.default.node,\n\n  /**\n   * Override style for list.\n   */\n  listStyle: _propTypes2.default.object,\n\n  /**\n   * The max number of search results to be shown.\n   * By default it shows all the items which matches filter.\n   */\n  maxSearchResults: _propTypes2.default.number,\n\n  /**\n   * Delay for closing time of the menu.\n   */\n  menuCloseDelay: _propTypes2.default.number,\n\n  /**\n   * Props to be passed to menu.\n   */\n  menuProps: _propTypes2.default.object,\n\n  /**\n   * Override style for menu.\n   */\n  menuStyle: _propTypes2.default.object,\n\n  /** @ignore */\n  onBlur: _propTypes2.default.func,\n\n  /**\n   * Callback function fired when the menu is closed.\n   */\n  onClose: _propTypes2.default.func,\n\n  /** @ignore */\n  onFocus: _propTypes2.default.func,\n\n  /** @ignore */\n  onKeyDown: _propTypes2.default.func,\n\n  /**\n   * Callback function that is fired when a list item is selected, or enter is pressed in the `TextField`.\n   *\n   * @param {string} chosenRequest Either the `TextField` input value, if enter is pressed in the `TextField`,\n   * or the dataSource object corresponding to the list item that was selected.\n   * @param {number} index The index in `dataSource` of the list item selected, or `-1` if enter is pressed in the\n   * `TextField`.\n   */\n  onNewRequest: _propTypes2.default.func,\n\n  /**\n   * Callback function that is fired when the user updates the `TextField`.\n   *\n   * @param {string} searchText The auto-complete's `searchText` value.\n   * @param {array} dataSource The auto-complete's `dataSource` array.\n   * @param {object} params Additional information linked the update.\n   */\n  onUpdateInput: _propTypes2.default.func,\n\n  /**\n   * Auto complete menu is open if true.\n   */\n  open: _propTypes2.default.bool,\n\n  /**\n   * If true, the list item is showed when a focus event triggers.\n   */\n  openOnFocus: _propTypes2.default.bool,\n\n  /**\n   * Props to be passed to popover.\n   */\n  popoverProps: _propTypes2.default.object,\n\n  /**\n   * Text being input to auto complete.\n   */\n  searchText: _propTypes2.default.string,\n\n  /**\n   * Override the inline-styles of the root element.\n   */\n  style: _propTypes2.default.object,\n\n  /**\n   * Origin for location of target.\n   */\n  targetOrigin: _propTypes4.default.origin,\n\n  /**\n   * Override the inline-styles of AutoComplete's TextField element.\n   */\n  textFieldStyle: _propTypes2.default.object\n} : {};\n\nAutoComplete.levenshteinDistance = function (searchText, key) {\n  var current = [];\n  var prev = void 0;\n  var value = void 0;\n\n  for (var i = 0; i <= key.length; i++) {\n    for (var j = 0; j <= searchText.length; j++) {\n      if (i && j) {\n        if (searchText.charAt(j - 1) === key.charAt(i - 1)) value = prev;else value = Math.min(current[j], current[j - 1], prev) + 1;\n      } else {\n        value = i + j;\n      }\n\n      prev = current[j];\n      current[j] = value;\n    }\n  }\n\n  return current.pop();\n};\n\nAutoComplete.noFilter = function () {\n  return true;\n};\n\nAutoComplete.defaultFilter = AutoComplete.caseSensitiveFilter = function (searchText, key) {\n  return searchText !== '' && key.indexOf(searchText) !== -1;\n};\n\nAutoComplete.caseInsensitiveFilter = function (searchText, key) {\n  return key.toLowerCase().indexOf(searchText.toLowerCase()) !== -1;\n};\n\nAutoComplete.levenshteinDistanceFilter = function (distanceLessThan) {\n  if (distanceLessThan === undefined) {\n    return AutoComplete.levenshteinDistance;\n  } else if (typeof distanceLessThan !== 'number') {\n    throw 'Error: AutoComplete.levenshteinDistanceFilter is a filter generator, not a filter!';\n  }\n\n  return function (s, k) {\n    return AutoComplete.levenshteinDistance(s, k) < distanceLessThan;\n  };\n};\n\nAutoComplete.fuzzyFilter = function (searchText, key) {\n  var compareString = key.toLowerCase();\n  searchText = searchText.toLowerCase();\n  var searchTextIndex = 0;\n\n  for (var index = 0; index < key.length; index++) {\n    if (compareString[index] === searchText[searchTextIndex]) {\n      searchTextIndex += 1;\n    }\n  }\n\n  return searchTextIndex === searchText.length;\n};\n\nAutoComplete.Item = _MenuItem2.default;\nAutoComplete.Divider = _Divider2.default;\nexports.default = AutoComplete;","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_typeof2","_typeof3","_objectWithoutProperties2","_objectWithoutProperties3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_simpleAssign","_simpleAssign2","_react","_react2","_propTypes","_propTypes2","_reactDom","_reactDom2","_keycode","_keycode2","_TextField","_TextField2","_Menu","_Menu2","_MenuItem","_MenuItem2","_Divider","_Divider2","_Popover","_Popover2","_propTypes3","_propTypes4","obj","__esModule","default","getStyles","props","context","state","anchorEl","fullWidth","styles","root","display","position","width","menu","list","innerDiv","overflow","popover","clientWidth","AutoComplete","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","focusTextField","open","searchText","undefined","handleRequestClose","close","handleMouseDown","event","preventDefault","handleItemClick","child","dataSource","index","parseInt","key","chosenRequest","chosenRequestText","updateInput","onUpdateInput","source","timerClickCloseId","setTimeout","onNewRequest","menuCloseDelay","setState","dataSourceConfig","text","handleEscKeyDown","handleKeyDown","onKeyDown","findDOMNode","refs","searchTextField","handleChange","target","handleBlur","timerBlurClose","onBlur","handleFocus","openOnFocus","onFocus","componentWillMount","requestsList","componentWillReceiveProps","nextProps","componentWillUnmount","clearTimeout","onClose","blur","focus","render","_this2","_props","anchorOrigin","animated","animation","disableFocusRipple","errorStyle","floatingLabelText","filter","style","hintText","maxSearchResults","textFieldStyle","menuStyle","menuProps","listStyle","targetOrigin","popoverProps","searchTextProp","other","_ref2","popoverStyle","popoverOther","_state","prepareStyles","muiTheme","every","item","push","createElement","innerDivStyle","primaryText","itemText","itemValue","type","muiName","cloneElement","ref","autoWidth","disableAutoFocus","onEscKeyDown","initiallyKeyboardFocused","onItemClick","onMouseDown","map","i","autoComplete","multiLine","onChange","canAutoPosition","useLayerForClickAway","onRequestClose","Component","defaultProps","vertical","horizontal","indexOf","contextTypes","object","isRequired","propTypes","process","env","NODE_ENV","origin","bool","func","array","errorText","node","number","string","levenshteinDistance","current","prev","j","charAt","Math","min","pop","noFilter","defaultFilter","caseSensitiveFilter","caseInsensitiveFilter","toLowerCase","levenshteinDistanceFilter","distanceLessThan","s","k","fuzzyFilter","compareString","searchTextIndex","Item","Divider"],"sources":["D:/work/appleute/client/node_modules/material-ui/AutoComplete/AutoComplete.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _keycode = require('keycode');\n\nvar _keycode2 = _interopRequireDefault(_keycode);\n\nvar _TextField = require('../TextField');\n\nvar _TextField2 = _interopRequireDefault(_TextField);\n\nvar _Menu = require('../Menu');\n\nvar _Menu2 = _interopRequireDefault(_Menu);\n\nvar _MenuItem = require('../MenuItem');\n\nvar _MenuItem2 = _interopRequireDefault(_MenuItem);\n\nvar _Divider = require('../Divider');\n\nvar _Divider2 = _interopRequireDefault(_Divider);\n\nvar _Popover = require('../Popover/Popover');\n\nvar _Popover2 = _interopRequireDefault(_Popover);\n\nvar _propTypes3 = require('../utils/propTypes');\n\nvar _propTypes4 = _interopRequireDefault(_propTypes3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getStyles(props, context, state) {\n  var anchorEl = state.anchorEl;\n  var fullWidth = props.fullWidth;\n\n\n  var styles = {\n    root: {\n      display: 'inline-block',\n      position: 'relative',\n      width: fullWidth ? '100%' : 256\n    },\n    menu: {\n      width: '100%'\n    },\n    list: {\n      display: 'block',\n      width: fullWidth ? '100%' : 256\n    },\n    innerDiv: {\n      overflow: 'hidden'\n    }\n  };\n\n  if (anchorEl && fullWidth) {\n    styles.popover = {\n      width: anchorEl.clientWidth\n    };\n  }\n\n  return styles;\n}\n\nvar AutoComplete = function (_Component) {\n  (0, _inherits3.default)(AutoComplete, _Component);\n\n  function AutoComplete() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AutoComplete);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AutoComplete.__proto__ || (0, _getPrototypeOf2.default)(AutoComplete)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      anchorEl: null,\n      focusTextField: true,\n      open: false,\n      searchText: undefined\n    }, _this.handleRequestClose = function () {\n      // Only take into account the Popover clickAway when we are\n      // not focusing the TextField.\n      if (!_this.state.focusTextField) {\n        _this.close();\n      }\n    }, _this.handleMouseDown = function (event) {\n      // Keep the TextField focused\n      event.preventDefault();\n    }, _this.handleItemClick = function (event, child) {\n      var dataSource = _this.props.dataSource;\n      var index = parseInt(child.key, 10);\n      var chosenRequest = dataSource[index];\n      var searchText = _this.chosenRequestText(chosenRequest);\n\n      var updateInput = function updateInput() {\n        return _this.props.onUpdateInput(searchText, _this.props.dataSource, {\n          source: 'click'\n        });\n      };\n      _this.timerClickCloseId = function () {\n        return setTimeout(function () {\n          _this.timerClickCloseId = null;\n          _this.close();\n          _this.props.onNewRequest(chosenRequest, index);\n        }, _this.props.menuCloseDelay);\n      };\n\n      if (typeof _this.props.searchText !== 'undefined') {\n        updateInput();\n        _this.timerClickCloseId();\n      } else {\n        _this.setState({\n          searchText: searchText\n        }, function () {\n          updateInput();\n          _this.timerClickCloseId();\n        });\n      }\n    }, _this.chosenRequestText = function (chosenRequest) {\n      if (typeof chosenRequest === 'string') {\n        return chosenRequest;\n      } else {\n        return chosenRequest[_this.props.dataSourceConfig.text];\n      }\n    }, _this.handleEscKeyDown = function () {\n      _this.close();\n    }, _this.handleKeyDown = function (event) {\n      if (_this.props.onKeyDown) _this.props.onKeyDown(event);\n\n      switch ((0, _keycode2.default)(event)) {\n        case 'enter':\n          _this.close();\n          var searchText = _this.state.searchText;\n          if (searchText !== '') {\n            _this.props.onNewRequest(searchText, -1);\n          }\n          break;\n\n        case 'esc':\n          _this.close();\n          break;\n\n        case 'down':\n          event.preventDefault();\n          _this.setState({\n            open: true,\n            focusTextField: false,\n            anchorEl: _reactDom2.default.findDOMNode(_this.refs.searchTextField)\n          });\n          break;\n\n        default:\n          break;\n      }\n    }, _this.handleChange = function (event) {\n      var searchText = event.target.value;\n\n      // Make sure that we have a new searchText.\n      // Fix an issue with a Cordova Webview\n      if (searchText === _this.state.searchText) {\n        return;\n      }\n\n      var state = {\n        open: true,\n        anchorEl: _reactDom2.default.findDOMNode(_this.refs.searchTextField)\n      };\n\n      if (_this.props.searchText === undefined) {\n        state.searchText = searchText;\n      }\n\n      _this.setState(state);\n\n      _this.props.onUpdateInput(searchText, _this.props.dataSource, {\n        source: 'change'\n      });\n    }, _this.handleBlur = function (event) {\n      if (_this.state.focusTextField && _this.timerClickCloseId === null) {\n        _this.timerBlurClose = setTimeout(function () {\n          _this.close();\n        }, 0);\n      }\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(event);\n      }\n    }, _this.handleFocus = function (event) {\n      if (!_this.state.open && _this.props.openOnFocus) {\n        _this.setState({\n          open: true,\n          anchorEl: _reactDom2.default.findDOMNode(_this.refs.searchTextField)\n        });\n      }\n\n      _this.setState({\n        focusTextField: true\n      });\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(event);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(AutoComplete, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.requestsList = [];\n      this.setState({\n        open: this.props.open,\n        searchText: this.props.searchText || ''\n      });\n      this.timerClickCloseId = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.searchText !== nextProps.searchText) {\n        this.setState({\n          searchText: nextProps.searchText\n        });\n      }\n      if (this.props.open !== nextProps.open) {\n        this.setState({\n          open: nextProps.open,\n          anchorEl: _reactDom2.default.findDOMNode(this.refs.searchTextField)\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timerClickCloseId);\n      clearTimeout(this.timerBlurClose);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.setState({\n        open: false,\n        anchorEl: null\n      });\n\n      if (this.props.onClose) {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.refs.searchTextField.blur();\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      this.refs.searchTextField.focus();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          anchorOrigin = _props.anchorOrigin,\n          animated = _props.animated,\n          animation = _props.animation,\n          dataSource = _props.dataSource,\n          dataSourceConfig = _props.dataSourceConfig,\n          disableFocusRipple = _props.disableFocusRipple,\n          errorStyle = _props.errorStyle,\n          floatingLabelText = _props.floatingLabelText,\n          filter = _props.filter,\n          fullWidth = _props.fullWidth,\n          style = _props.style,\n          hintText = _props.hintText,\n          maxSearchResults = _props.maxSearchResults,\n          menuCloseDelay = _props.menuCloseDelay,\n          textFieldStyle = _props.textFieldStyle,\n          menuStyle = _props.menuStyle,\n          menuProps = _props.menuProps,\n          listStyle = _props.listStyle,\n          targetOrigin = _props.targetOrigin,\n          onBlur = _props.onBlur,\n          onClose = _props.onClose,\n          onFocus = _props.onFocus,\n          onKeyDown = _props.onKeyDown,\n          onNewRequest = _props.onNewRequest,\n          onUpdateInput = _props.onUpdateInput,\n          openOnFocus = _props.openOnFocus,\n          popoverProps = _props.popoverProps,\n          searchTextProp = _props.searchText,\n          other = (0, _objectWithoutProperties3.default)(_props, ['anchorOrigin', 'animated', 'animation', 'dataSource', 'dataSourceConfig', 'disableFocusRipple', 'errorStyle', 'floatingLabelText', 'filter', 'fullWidth', 'style', 'hintText', 'maxSearchResults', 'menuCloseDelay', 'textFieldStyle', 'menuStyle', 'menuProps', 'listStyle', 'targetOrigin', 'onBlur', 'onClose', 'onFocus', 'onKeyDown', 'onNewRequest', 'onUpdateInput', 'openOnFocus', 'popoverProps', 'searchText']);\n\n      var _ref2 = popoverProps || {},\n          popoverStyle = _ref2.style,\n          popoverOther = (0, _objectWithoutProperties3.default)(_ref2, ['style']);\n\n      var _state = this.state,\n          open = _state.open,\n          anchorEl = _state.anchorEl,\n          searchText = _state.searchText,\n          focusTextField = _state.focusTextField;\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n\n      var styles = getStyles(this.props, this.context, this.state);\n\n      var requestsList = [];\n\n      dataSource.every(function (item, index) {\n        switch (typeof item === 'undefined' ? 'undefined' : (0, _typeof3.default)(item)) {\n          case 'string':\n            if (filter(searchText, item, item)) {\n              requestsList.push({\n                text: item,\n                value: _react2.default.createElement(_MenuItem2.default, {\n                  innerDivStyle: styles.innerDiv,\n                  value: item,\n                  primaryText: item,\n                  disableFocusRipple: disableFocusRipple,\n                  key: index\n                })\n              });\n            }\n            break;\n\n          case 'object':\n            if (item && typeof item[_this2.props.dataSourceConfig.text] === 'string') {\n              var itemText = item[_this2.props.dataSourceConfig.text];\n              if (!_this2.props.filter(searchText, itemText, item)) break;\n\n              var itemValue = item[_this2.props.dataSourceConfig.value];\n              if (itemValue && itemValue.type && (itemValue.type.muiName === _MenuItem2.default.muiName || itemValue.type.muiName === _Divider2.default.muiName)) {\n                requestsList.push({\n                  text: itemText,\n                  value: _react2.default.cloneElement(itemValue, {\n                    key: index,\n                    disableFocusRipple: disableFocusRipple\n                  })\n                });\n              } else {\n                requestsList.push({\n                  text: itemText,\n                  value: _react2.default.createElement(_MenuItem2.default, {\n                    innerDivStyle: styles.innerDiv,\n                    primaryText: itemText,\n                    disableFocusRipple: disableFocusRipple,\n                    key: index\n                  })\n                });\n              }\n            }\n            break;\n\n          default:\n          // Do nothing\n        }\n\n        return !(maxSearchResults && maxSearchResults > 0 && requestsList.length === maxSearchResults);\n      });\n\n      this.requestsList = requestsList;\n\n      var menu = open && requestsList.length > 0 && _react2.default.createElement(\n        _Menu2.default,\n        (0, _extends3.default)({\n          ref: 'menu',\n          autoWidth: false,\n          disableAutoFocus: focusTextField,\n          onEscKeyDown: this.handleEscKeyDown,\n          initiallyKeyboardFocused: true,\n          onItemClick: this.handleItemClick,\n          onMouseDown: this.handleMouseDown,\n          style: (0, _simpleAssign2.default)(styles.menu, menuStyle),\n          listStyle: (0, _simpleAssign2.default)(styles.list, listStyle)\n        }, menuProps),\n        requestsList.map(function (i) {\n          return i.value;\n        })\n      );\n\n      return _react2.default.createElement(\n        'div',\n        { style: prepareStyles((0, _simpleAssign2.default)(styles.root, style)) },\n        _react2.default.createElement(_TextField2.default, (0, _extends3.default)({\n          ref: 'searchTextField',\n          autoComplete: 'off',\n          onBlur: this.handleBlur,\n          onFocus: this.handleFocus,\n          onKeyDown: this.handleKeyDown,\n          floatingLabelText: floatingLabelText,\n          hintText: hintText,\n          fullWidth: fullWidth,\n          multiLine: false,\n          errorStyle: errorStyle,\n          style: textFieldStyle\n        }, other, {\n          // value and onChange are idiomatic properties often leaked.\n          // We prevent their overrides in order to reduce potential bugs.\n          value: searchText,\n          onChange: this.handleChange\n        })),\n        _react2.default.createElement(\n          _Popover2.default,\n          (0, _extends3.default)({\n            style: (0, _simpleAssign2.default)({}, styles.popover, popoverStyle),\n            canAutoPosition: false,\n            anchorOrigin: anchorOrigin,\n            targetOrigin: targetOrigin,\n            open: open,\n            anchorEl: anchorEl,\n            useLayerForClickAway: false,\n            onRequestClose: this.handleRequestClose,\n            animated: animated,\n            animation: animation\n          }, popoverOther),\n          menu\n        )\n      );\n    }\n  }]);\n  return AutoComplete;\n}(_react.Component);\n\nAutoComplete.defaultProps = {\n  anchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'left'\n  },\n  animated: true,\n  dataSourceConfig: {\n    text: 'text',\n    value: 'value'\n  },\n  disableFocusRipple: true,\n  filter: function filter(searchText, key) {\n    return searchText !== '' && key.indexOf(searchText) !== -1;\n  },\n  fullWidth: false,\n  open: false,\n  openOnFocus: false,\n  onUpdateInput: function onUpdateInput() {},\n  onNewRequest: function onNewRequest() {},\n  menuCloseDelay: 300,\n  targetOrigin: {\n    vertical: 'top',\n    horizontal: 'left'\n  }\n};\nAutoComplete.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nAutoComplete.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * Location of the anchor for the auto complete.\n   */\n  anchorOrigin: _propTypes4.default.origin,\n  /**\n   * If true, the auto complete is animated as it is toggled.\n   */\n  animated: _propTypes2.default.bool,\n  /**\n   * Override the default animation component used.\n   */\n  animation: _propTypes2.default.func,\n  /**\n   * Array of strings or nodes used to populate the list.\n   */\n  dataSource: _propTypes2.default.array.isRequired,\n  /**\n   * Config for objects list dataSource.\n   *\n   * @typedef {Object} dataSourceConfig\n   *\n   * @property {string} text `dataSource` element key used to find a string to be matched for search\n   * and shown as a `TextField` input value after choosing the result.\n   * @property {string} value `dataSource` element key used to find a string to be shown in search results.\n   */\n  dataSourceConfig: _propTypes2.default.object,\n  /**\n   * Disables focus ripple when true.\n   */\n  disableFocusRipple: _propTypes2.default.bool,\n  /**\n   * Override style prop for error.\n   */\n  errorStyle: _propTypes2.default.object,\n  /**\n   * The error content to display.\n   */\n  errorText: _propTypes2.default.node,\n  /**\n   * Callback function used to filter the auto complete.\n   *\n   * @param {string} searchText The text to search for within `dataSource`.\n   * @param {string} key `dataSource` element, or `text` property on that element if it's not a string.\n   * @returns {boolean} `true` indicates the auto complete list will include `key` when the input is `searchText`.\n   */\n  filter: _propTypes2.default.func,\n  /**\n   * The content to use for adding floating label element.\n   */\n  floatingLabelText: _propTypes2.default.node,\n  /**\n   * If true, the field receives the property `width: 100%`.\n   */\n  fullWidth: _propTypes2.default.bool,\n  /**\n   * The hint content to display.\n   */\n  hintText: _propTypes2.default.node,\n  /**\n   * Override style for list.\n   */\n  listStyle: _propTypes2.default.object,\n  /**\n   * The max number of search results to be shown.\n   * By default it shows all the items which matches filter.\n   */\n  maxSearchResults: _propTypes2.default.number,\n  /**\n   * Delay for closing time of the menu.\n   */\n  menuCloseDelay: _propTypes2.default.number,\n  /**\n   * Props to be passed to menu.\n   */\n  menuProps: _propTypes2.default.object,\n  /**\n   * Override style for menu.\n   */\n  menuStyle: _propTypes2.default.object,\n  /** @ignore */\n  onBlur: _propTypes2.default.func,\n  /**\n   * Callback function fired when the menu is closed.\n   */\n  onClose: _propTypes2.default.func,\n  /** @ignore */\n  onFocus: _propTypes2.default.func,\n  /** @ignore */\n  onKeyDown: _propTypes2.default.func,\n  /**\n   * Callback function that is fired when a list item is selected, or enter is pressed in the `TextField`.\n   *\n   * @param {string} chosenRequest Either the `TextField` input value, if enter is pressed in the `TextField`,\n   * or the dataSource object corresponding to the list item that was selected.\n   * @param {number} index The index in `dataSource` of the list item selected, or `-1` if enter is pressed in the\n   * `TextField`.\n   */\n  onNewRequest: _propTypes2.default.func,\n  /**\n   * Callback function that is fired when the user updates the `TextField`.\n   *\n   * @param {string} searchText The auto-complete's `searchText` value.\n   * @param {array} dataSource The auto-complete's `dataSource` array.\n   * @param {object} params Additional information linked the update.\n   */\n  onUpdateInput: _propTypes2.default.func,\n  /**\n   * Auto complete menu is open if true.\n   */\n  open: _propTypes2.default.bool,\n  /**\n   * If true, the list item is showed when a focus event triggers.\n   */\n  openOnFocus: _propTypes2.default.bool,\n  /**\n   * Props to be passed to popover.\n   */\n  popoverProps: _propTypes2.default.object,\n  /**\n   * Text being input to auto complete.\n   */\n  searchText: _propTypes2.default.string,\n  /**\n   * Override the inline-styles of the root element.\n   */\n  style: _propTypes2.default.object,\n  /**\n   * Origin for location of target.\n   */\n  targetOrigin: _propTypes4.default.origin,\n  /**\n   * Override the inline-styles of AutoComplete's TextField element.\n   */\n  textFieldStyle: _propTypes2.default.object\n} : {};\n\n\nAutoComplete.levenshteinDistance = function (searchText, key) {\n  var current = [];\n  var prev = void 0;\n  var value = void 0;\n\n  for (var i = 0; i <= key.length; i++) {\n    for (var j = 0; j <= searchText.length; j++) {\n      if (i && j) {\n        if (searchText.charAt(j - 1) === key.charAt(i - 1)) value = prev;else value = Math.min(current[j], current[j - 1], prev) + 1;\n      } else {\n        value = i + j;\n      }\n      prev = current[j];\n      current[j] = value;\n    }\n  }\n  return current.pop();\n};\n\nAutoComplete.noFilter = function () {\n  return true;\n};\n\nAutoComplete.defaultFilter = AutoComplete.caseSensitiveFilter = function (searchText, key) {\n  return searchText !== '' && key.indexOf(searchText) !== -1;\n};\n\nAutoComplete.caseInsensitiveFilter = function (searchText, key) {\n  return key.toLowerCase().indexOf(searchText.toLowerCase()) !== -1;\n};\n\nAutoComplete.levenshteinDistanceFilter = function (distanceLessThan) {\n  if (distanceLessThan === undefined) {\n    return AutoComplete.levenshteinDistance;\n  } else if (typeof distanceLessThan !== 'number') {\n    throw 'Error: AutoComplete.levenshteinDistanceFilter is a filter generator, not a filter!';\n  }\n\n  return function (s, k) {\n    return AutoComplete.levenshteinDistance(s, k) < distanceLessThan;\n  };\n};\n\nAutoComplete.fuzzyFilter = function (searchText, key) {\n  var compareString = key.toLowerCase();\n  searchText = searchText.toLowerCase();\n\n  var searchTextIndex = 0;\n  for (var index = 0; index < key.length; index++) {\n    if (compareString[index] === searchText[searchTextIndex]) {\n      searchTextIndex += 1;\n    }\n  }\n\n  return searchTextIndex === searchText.length;\n};\n\nAutoComplete.Item = _MenuItem2.default;\nAutoComplete.Divider = _Divider2.default;\n\nexports.default = AutoComplete;"],"mappings":"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"},"metadata":{},"sourceType":"script"}